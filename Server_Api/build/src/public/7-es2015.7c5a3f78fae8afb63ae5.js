(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{kkOj:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class i{}var e=u("pMnS"),c=u("c4Wm"),a=u("BV1i"),o=u("IP0z"),s=u("hOhj"),r=u("omvX"),b=u("5GAg"),d=u("/HVE"),f=u("SVse"),p=u("iInd");class h{constructor(){this.close=new t.n}ngOnInit(){}closeEmit(){this.close.emit(!0)}}var m=t.tb({encapsulation:0,styles:[[".menu-main[_ngcontent-%COMP%]{height:100%}.menu-navbar[_ngcontent-%COMP%]{padding:40px 30px 30px}"]],data:{}});function v(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,"div",[["class","menu-main d-flex border-right"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,6,"nav",[["class","menu-navbar nav flex-column h-100"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.closeEmit()&&t),t}),null,null)),(l()(),t.vb(2,0,null,null,2,"a",[["class","nav-link"],["routerLink","/readers"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var i=!0;return"click"===n&&(i=!1!==t.Hb(l,3).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&i),i}),null,null)),t.ub(3,671744,null,0,p.l,[p.k,p.a,f.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Pb(-1,null,["Home"])),(l()(),t.vb(5,0,null,null,2,"a",[["class","nav-link mt-auto"],["routerLink","/write-or-read"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var i=!0;return"click"===n&&(i=!1!==t.Hb(l,6).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&i),i}),null,null)),t.ub(6,671744,null,0,p.l,[p.k,p.a,f.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Pb(-1,null,["Salir del modo Lector"]))],(function(l,n){l(n,3,0,"/readers"),l(n,6,0,"/write-or-read")}),(function(l,n){l(n,2,0,t.Hb(n,3).target,t.Hb(n,3).href),l(n,5,0,t.Hb(n,6).target,t.Hb(n,6).href)}))}var g=u("WE+f"),I=u("aZ8m"),k=u("mrSG"),x=u("e1JD"),y=u("jPX0"),F=u("6cs4"),P=u("d7Bc");let H=(()=>{class l{constructor(l,n,u){this.store=l,this.router=n,this.actions$=u,this.subscriptions=[]}ngOnInit(){this.store.dispatch(new y.g({published:!1,force:!1})),this.subscriptions.push(this.character$.subscribe(l=>{this.character=l}),this.actions$.pipe(Object(x.k)(F.g,F.j)).subscribe(()=>{this.character.location&&this.character.location.cityId?this.character.location.placeId?this.character.location.npcId||this.router.navigate(["/readers/place"]):this.router.navigate(["/readers/city"]):this.router.navigate(["/readers/select"])}))}ngOnDestroy(){this.subscriptions.forEach(l=>l.unsubscribe())}open(){this.sidenav.open()}close(l){this.sidenav.close()}}return k.b([Object(x.e)(P.a.getCharacter),k.c("design:type",Object)],l.prototype,"character$",void 0),l})();var M=t.tb({encapsulation:0,styles:[[".example-container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}"]],data:{}});function C(l){return t.Rb(0,[t.Nb(671088640,1,{sidenav:0}),(l()(),t.vb(1,0,null,null,13,"mat-sidenav-container",[["class","example-container mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],[[null,"backdropClick"]],(function(l,n,u){var t=!0;return"backdropClick"===n&&(t=!1!==l.component.close("backdrop")&&t),t}),c.d,c.b)),t.ub(2,1490944,null,2,a.f,[[2,o.b],t.l,t.z,t.i,s.e,a.a,[2,r.a]],null,{backdropClick:"backdropClick"}),t.Nb(603979776,2,{_drawers:1}),t.Nb(603979776,3,{_content:0}),(l()(),t.vb(5,0,null,0,3,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["disableClose",""],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[[null,"keydown.escape"],["component","@transform.start"],["component","@transform.done"]],(function(l,n,u){var i=!0,e=l.component;return"component:@transform.start"===n&&(i=!1!==t.Hb(l,6)._animationStartListener(u)&&i),"component:@transform.done"===n&&(i=!1!==t.Hb(l,6)._animationDoneListener(u)&&i),"keydown.escape"===n&&(i=!1!==e.close("escape")&&i),i}),c.f,c.a)),t.ub(6,3325952,[[2,4],[1,4],["sidenav",4]],0,a.e,[t.l,b.h,b.g,d.a,t.z,[2,f.d]],{disableClose:[0,"disableClose"]},null),(l()(),t.vb(7,0,null,0,1,"app-reader-nav",[],null,[[null,"close"]],(function(l,n,u){var t=!0;return"close"===n&&(t=!1!==l.component.close("escape")&&t),t}),v,m)),t.ub(8,114688,null,0,h,[],null,{close:"close"}),(l()(),t.vb(9,0,null,1,5,"mat-sidenav-content",[["class","h-100 mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,c.e,c.c)),t.ub(10,1294336,[[3,4]],0,a.g,[t.i,a.f,t.l,s.b,t.z],null,null),(l()(),t.vb(11,0,null,0,1,"app-header",[],null,[[null,"menu"]],(function(l,n,u){var t=!0;return"menu"===n&&(t=!1!==l.component.open()&&t),t}),g.b,g.a)),t.ub(12,114688,null,0,I.a,[p.k,f.h],{backBtn:[0,"backBtn"]},{menu:"menu"}),(l()(),t.vb(13,16777216,null,0,1,"router-outlet",[],null,null,null,null,null)),t.ub(14,212992,null,0,p.n,[p.b,t.P,t.k,[8,null],t.i],null,null)],(function(l,n){l(n,2,0),l(n,6,0,""),l(n,8,0),l(n,10,0),l(n,12,0,!0),l(n,14,0)}),(function(l,n){l(n,1,0,t.Hb(n,2)._backdropOverride),l(n,5,0,null,"end"===t.Hb(n,6).position,"over"===t.Hb(n,6).mode,"push"===t.Hb(n,6).mode,"side"===t.Hb(n,6).mode,t.Hb(n,6).fixedInViewport,t.Hb(n,6).fixedInViewport?t.Hb(n,6).fixedTopGap:null,t.Hb(n,6).fixedInViewport?t.Hb(n,6).fixedBottomGap:null,t.Hb(n,6)._animationState),l(n,9,0,t.Hb(n,10)._container._contentMargins.left,t.Hb(n,10)._container._contentMargins.right)}))}function w(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"app-readers",[],null,null,null,C,M)),t.ub(1,245760,null,0,H,[x.i,p.k,x.b],null,null)],(function(l,n){l(n,1,0)}),null)}var R=t.rb("app-readers",H,w,{},{},[]),z=u("fNgX"),O=u("Nv++"),$=u("cUpR"),L=u("s7LF"),E=u("kggM"),j=u("P/Z+"),T=u("wHSu"),B=u("umPq");let N=(()=>{class l{constructor(l,n){this.store=l,this.fb=n,this.subscription=[],this.faUser=T.l,this.faUserPlus=T.m,this.faRight=T.c,this.faTimes=T.k}ngOnInit(){this.subscription.push(this.$user.subscribe(l=>{this.user=l})),this.createForm(),this.getCharacters()}ngOnDestroy(){this.subscription.forEach(l=>{l.unsubscribe()})}createForm(){this.characterForm=this.fb.group({userId:[this.user.id,[]],name:[null,[L.s.required]]})}getCharacters(){return k.a(this,void 0,void 0,(function*(){yield this.store.dispatch(new F.c).toPromise()}))}createCharacter(){return k.a(this,void 0,void 0,(function*(){Object(B.a)(this.characterForm)&&(yield this.store.dispatch(new F.f(this.characterForm.value)).toPromise(),this.createForm())}))}deleteCharacter(l){return k.a(this,void 0,void 0,(function*(){yield this.store.dispatch(new F.b({id:l})).toPromise()}))}selectCharacter(l){return k.a(this,void 0,void 0,(function*(){yield this.store.dispatch(new F.g(l)).toPromise()}))}}return k.b([Object(x.e)(P.a.getUser),k.c("design:type",Object)],l.prototype,"$user",void 0),l})();var D=t.tb({encapsulation:0,styles:[[""]],data:{}});function _(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.Pb(1,null,[" - "," "])),t.Lb(2,2),t.Jb(131072,f.b,[t.i])],null,(function(l,n){var u=t.Qb(n,1,0,t.Hb(n,3).transform(t.Qb(n,1,0,l(n,2,0,t.Hb(n.parent.parent.parent.parent,2),n.parent.parent.context.$implicit.location.placeId,null==n.parent.parent.context.$implicit.location?null:n.parent.parent.context.$implicit.location.cityId))));l(n,1,0,u)}))}function J(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,5,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.Pb(1,null,[" "," "])),t.Lb(2,1),t.Jb(131072,f.b,[t.i]),(l()(),t.kb(16777216,null,null,1,null,_)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,5,0,n.parent.context.$implicit.location.placeId)}),(function(l,n){var u=t.Qb(n,1,0,t.Hb(n,3).transform(t.Qb(n,1,0,l(n,2,0,t.Hb(n.parent.parent.parent,1),n.parent.context.$implicit.location.cityId))));l(n,1,0,u)}))}function Q(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,[" Inicio "]))],null,null)}function U(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,26,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,25,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,24,"div",[["class","card-body d-flex flex-column"]],null,null,null,null,null)),(l()(),t.vb(3,0,null,null,7,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),t.vb(4,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["size","3x"]],[[1,"title",0],[8,"innerHTML",1]],null,null,z.d,z.c)),t.ub(5,573440,null,0,O.c,[$.b,O.a,O.d,[2,O.i]],{icon:[0,"icon"],size:[1,"size"]},null),(l()(),t.vb(6,0,null,null,1,"div",[["class","my-auto ml-4 h4"]],null,null,null,null,null)),(l()(),t.Pb(7,null,[" "," "])),(l()(),t.vb(8,0,null,null,2,"div",[["class","ml-auto mb-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.deleteCharacter(l.context.$implicit.id)&&t),t}),null,null)),(l()(),t.vb(9,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","lg"]],[[1,"title",0],[8,"innerHTML",1]],null,null,z.d,z.c)),t.ub(10,573440,null,0,O.c,[$.b,O.a,O.d,[2,O.i]],{icon:[0,"icon"],size:[1,"size"]},null),(l()(),t.vb(11,0,null,null,11,"div",[["class","my-3 w-100"]],null,null,null,null,null)),(l()(),t.vb(12,0,null,null,4,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),t.vb(13,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Dinero"])),(l()(),t.vb(15,0,null,null,1,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.Pb(16,null,[" "," "])),(l()(),t.vb(17,0,null,null,5,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),t.vb(18,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Ubicacion"])),(l()(),t.kb(16777216,null,null,1,null,J)),t.ub(21,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.kb(0,[["noPlace",2]],null,0,null,Q)),(l()(),t.vb(23,0,null,null,3,"div",[["class","ml-auto mt-4 h5"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectCharacter(l.context.$implicit)&&t),t}),null,null)),(l()(),t.Pb(-1,null,[" Continuar "])),(l()(),t.vb(25,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","lg"]],[[1,"title",0],[8,"innerHTML",1]],null,null,z.d,z.c)),t.ub(26,573440,null,0,O.c,[$.b,O.a,O.d,[2,O.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){var u=n.component;l(n,5,0,u.faUser,"3x"),l(n,10,0,u.faTimes,"lg"),l(n,21,0,n.context.$implicit.location,t.Hb(n,22)),l(n,26,0,u.faRight,"lg")}),(function(l,n){l(n,4,0,t.Hb(n,5).title,t.Hb(n,5).renderedIconHTML),l(n,7,0,n.context.$implicit.name),l(n,9,0,t.Hb(n,10).title,t.Hb(n,10).renderedIconHTML),l(n,16,0,n.context.$implicit.money),l(n,25,0,t.Hb(n,26).title,t.Hb(n,26).renderedIconHTML)}))}function S(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,33,"div",[["class","app-main_writers"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,2,"h2",[],null,null,null,null,null)),(l()(),t.Pb(2,null,["Bienvenido ","!"])),t.Lb(3,1),(l()(),t.vb(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Este es "])),(l()(),t.vb(6,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["El Modo Lector"])),(l()(),t.Pb(-1,null,[". Aca podras disfrutar de las aventuras de este nuevo mundo."])),(l()(),t.vb(9,0,null,null,24,"div",[["class","row mt-5"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,U)),t.ub(11,278528,null,0,f.k,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.vb(12,0,null,null,21,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(l()(),t.vb(13,0,null,null,20,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.vb(14,0,null,null,19,"div",[["class","card-body d-flex flex-column"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var i=!0;return"submit"===n&&(i=!1!==t.Hb(l,15).onSubmit(u)&&i),"reset"===n&&(i=!1!==t.Hb(l,15).onReset()&&i),i}),null,null)),t.ub(15,540672,null,0,L.h,[[8,null],[8,null]],{form:[0,"form"]},null),t.Mb(2048,null,L.d,null,[L.h]),t.ub(17,16384,null,0,L.n,[[4,L.d]],null,null),(l()(),t.vb(18,0,null,null,4,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),t.vb(19,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["size","3x"]],[[1,"title",0],[8,"innerHTML",1]],null,null,z.d,z.c)),t.ub(20,573440,null,0,O.c,[$.b,O.a,O.d,[2,O.i]],{icon:[0,"icon"],size:[1,"size"]},null),(l()(),t.vb(21,0,null,null,1,"div",[["class","my-auto ml-4 h4"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,[" Nuevo personaje: "])),(l()(),t.vb(23,0,null,null,6,"div",[["class","my-3 ml-4 py-3"]],null,null,null,null,null)),(l()(),t.vb(24,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["placeholder","Nombre del personaje"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var i=!0;return"input"===n&&(i=!1!==t.Hb(l,25)._handleInput(u.target.value)&&i),"blur"===n&&(i=!1!==t.Hb(l,25).onTouched()&&i),"compositionstart"===n&&(i=!1!==t.Hb(l,25)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t.Hb(l,25)._compositionEnd(u.target.value)&&i),i}),null,null)),t.ub(25,16384,null,0,L.e,[t.E,t.l,[2,L.a]],null,null),t.Mb(1024,null,L.k,(function(l){return[l]}),[L.e]),t.ub(27,671744,null,0,L.g,[[3,L.d],[8,null],[8,null],[6,L.k],[2,L.v]],{name:[0,"name"]},null),t.Mb(2048,null,L.l,null,[L.g]),t.ub(29,16384,null,0,L.m,[[4,L.l]],null,null),(l()(),t.vb(30,0,null,null,3,"div",[["class","ml-auto mt-4h5"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.createCharacter()&&t),t}),null,null)),(l()(),t.Pb(-1,null,[" Crear "])),(l()(),t.vb(32,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","lg"]],[[1,"title",0],[8,"innerHTML",1]],null,null,z.d,z.c)),t.ub(33,573440,null,0,O.c,[$.b,O.a,O.d,[2,O.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){var u=n.component;l(n,11,0,n.context.ngIf.characters),l(n,15,0,u.characterForm),l(n,20,0,u.faUserPlus,"3x"),l(n,27,0,"name"),l(n,33,0,u.faRight,"lg")}),(function(l,n){var u=t.Qb(n,2,0,l(n,3,0,t.Hb(n.parent,0),n.context.ngIf.username));l(n,2,0,u),l(n,14,0,t.Hb(n,17).ngClassUntouched,t.Hb(n,17).ngClassTouched,t.Hb(n,17).ngClassPristine,t.Hb(n,17).ngClassDirty,t.Hb(n,17).ngClassValid,t.Hb(n,17).ngClassInvalid,t.Hb(n,17).ngClassPending),l(n,19,0,t.Hb(n,20).title,t.Hb(n,20).renderedIconHTML),l(n,24,0,t.Hb(n,29).ngClassUntouched,t.Hb(n,29).ngClassTouched,t.Hb(n,29).ngClassPristine,t.Hb(n,29).ngClassDirty,t.Hb(n,29).ngClassValid,t.Hb(n,29).ngClassInvalid,t.Hb(n,29).ngClassPending),l(n,32,0,t.Hb(n,33).title,t.Hb(n,33).renderedIconHTML)}))}function A(l){return t.Rb(0,[t.Jb(0,f.s,[]),t.Jb(0,E.a,[x.i]),t.Jb(0,j.a,[x.i]),(l()(),t.kb(16777216,null,null,2,null,S)),t.ub(4,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Jb(131072,f.b,[t.i])],(function(l,n){var u=n.component;l(n,4,0,t.Qb(n,4,0,t.Hb(n,5).transform(u.$user)))}),null)}function V(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"app-readers-home",[],null,null,null,A,D)),t.ub(1,245760,null,0,N,[x.i,L.f],null,null)],(function(l,n){l(n,1,0)}),null)}var K=t.rb("app-readers-home",N,V,{},{},[]),q=u("KfNz"),Z=u("rhCF"),W=u("BNZ1"),G=u("npC/"),X=u("668k");class Y{transform(l,n){return l&&l.length>0?l[Math.floor(Math.random()*l.length)]:null}}var ll=u("ydoa");let nl=(()=>{class l{constructor(l,n,u){this.store=l,this.cd=n,this.scrollService=u,this.cities=[],this.loading=[],this.enterBtn=!1,this.faUp=T.d,this.faRight=T.c,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.cities$.subscribe(l=>{this.cities=l,this.cities.forEach(l=>k.a(this,void 0,void 0,(function*(){l.description||(this.loading.push(l.id),yield this.store.dispatch(new y.i({cityId:l.id})).toPromise(),this.loading=this.loading.filter(n=>n!==l.id))})))}))}ngOnDestroy(){this.subscriptions.forEach(l=>l.unsubscribe())}scrollCityDescription(l){const n=this.scrollDiv.nativeElement;this.scrollService.scrollAtBottom$.next(n.scrollHeight-n.scrollTop===n.clientHeight)}selectCity(l){return k.a(this,void 0,void 0,(function*(){this.selectedCity&&l.id===this.selectedCity.id?(this.selectedCity=null,this.cd.markForCheck()):(this.enterBtn=!1,this.selectedCity=l,this.scrollDiv.nativeElement.scrollTop=0,this.scrollService.scrollElement$.next(this.scrollDiv.nativeElement))}))}showEnter(l){this.store.dispatch(new F.h({fragmentId:l})),this.enterBtn=!0}enterCity(l){this.store.dispatch(new F.j({cityId:l}))}}return k.b([Object(x.e)(ll.a.getCities),k.c("design:type",Object)],l.prototype,"cities$",void 0),l})();var ul=t.tb({encapsulation:0,styles:[[".city-selector[_ngcontent-%COMP%]{margin-top:auto;max-height:30%;overflow-y:auto;padding:0 1.5rem;position:fixed;width:100%;bottom:0;background:#fff}.description-tale[_ngcontent-%COMP%]{padding:1.5rem 1rem 0;margin-bottom:40%}"]],data:{}});function tl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"p",[["class","text-muted text-right"]],null,null,null,null,null)),(l()(),t.Pb(1,null,[" - ",""]))],null,(function(l,n){l(n,1,0,n.parent.context.ngIf.author)}))}function il(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","mt-1 pt-2 border-left pl-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=!1!==l.component.showEnter(l.context.ngIf.id)&&t),t}),q.b,q.a)),t.ub(2,770048,null,0,Z.a,[t.i,W.a],{tale:[0,"tale"]},{finish:"finish"}),(l()(),t.kb(16777216,null,null,1,null,tl)),t.ub(4,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,n.context.ngIf.tale),l(n,4,0,u.enterBtn)}),null)}function el(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","d-flex mb-2"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,3,"div",[["class","btn ml-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.enterCity(i.selectedCity.id)&&t),t}),null,null)),(l()(),t.Pb(-1,null,[" Viajar "])),(l()(),t.vb(3,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,z.d,z.c)),t.ub(4,573440,null,0,O.c,[$.b,O.a,O.d,[2,O.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,4,0,n.component.faRight,"xl")}),(function(l,n){l(n,3,0,t.Hb(n,4).title,t.Hb(n,4).renderedIconHTML)}))}function cl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,5,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,il)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Lb(3,1),(l()(),t.kb(16777216,null,null,1,null,el)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component,i=t.Qb(n,2,0,l(n,3,0,t.Hb(n.parent.parent,0),u.selectedCity.description));l(n,2,0,i),l(n,5,0,u.enterBtn)}),null)}function al(l){return t.Rb(0,[(l()(),t.vb(0,0,[[1,0],["scroll",1]],null,7,"div",[["class","app-main d-flex flex-column h-100 col-12 col-md-4 mx-md-auto"]],null,[[null,"scroll"]],(function(l,n,u){var t=!0;return"scroll"===n&&(t=!1!==l.component.scrollCityDescription(u)&&t),t}),null,null)),(l()(),t.vb(1,0,null,null,6,"div",[["class","description-tale"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Selecciona una ciudad"])),(l()(),t.vb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Para comenzar, debes elegir la ciudad donde deseas comenzar tu aventura."])),(l()(),t.kb(16777216,null,null,1,null,cl)),t.ub(7,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,7,0,n.component.selectedCity)}),null)}function ol(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-loader",[["class","loader"],["size","md"]],null,null,null,G.b,G.a)),t.ub(2,114688,null,0,X.a,[],{size:[0,"size"]},null)],(function(l,n){l(n,2,0,"md")}),null)}function sl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto mt-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,z.d,z.c)),t.ub(2,573440,null,0,O.c,[$.b,O.a,O.d,[2,O.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,2,0,n.component.faUp,"xl")}),(function(l,n){l(n,1,0,t.Hb(n,2).title,t.Hb(n,2).renderedIconHTML)}))}function rl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,6,"div",[["class","d-flex py-2 border-bottom col-12 col-md-4 mx-md-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectCity(l.context.$implicit)&&t),t}),null,null)),(l()(),t.vb(2,0,null,null,1,"div",[["class","h5 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Pb(3,null,[" "," "])),(l()(),t.kb(16777216,null,null,1,null,ol)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,sl)),t.ub(7,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,5,0,u.loading.includes(u.cityId)),l(n,7,0,null==n.context.$implicit?null:n.context.$implicit.description)}),(function(l,n){l(n,3,0,n.context.$implicit.name)}))}function bl(l){return t.Rb(0,[t.Jb(0,Y,[]),t.Nb(671088640,1,{scrollDiv:0}),(l()(),t.kb(16777216,null,null,2,null,al)),t.ub(3,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Jb(131072,f.b,[t.i]),(l()(),t.vb(5,0,null,null,2,"div",[["class","city-selector border-top"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,rl)),t.ub(7,278528,null,0,f.k,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,3,0,t.Qb(n,3,0,t.Hb(n,4).transform(u.cities$))),l(n,7,0,u.cities)}),null)}function dl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"app-select-city",[],null,null,null,bl,ul)),t.ub(1,245760,null,0,nl,[x.i,t.i,W.a],null,null)],(function(l,n){l(n,1,0)}),null)}var fl=t.rb("app-select-city",nl,dl,{},{},[]),pl=u("lJxs");let hl=(()=>{class l{constructor(l,n,u){this.store=l,this.cd=n,this.scrollService=u,this.loading=[],this.titleAnimationEnd=!1,this.showPlaces=!1,this.enterBtn=!1,this.faUp=T.d,this.faRight=T.c,this.subscriptions=[],this.atBottom=!0}get places$(){return this.allPlaces$.pipe(Object(pl.a)(l=>l(this.city&&this.city.id)))}ngOnInit(){this.subscriptions.push(this.character$.subscribe(l=>{this.character=l}),this.cities$.subscribe(l=>{this.city=l.find(l=>l.id===this.character.location.cityId),this.city&&(this.store.dispatch(new y.i({cityId:this.city.id})),this.store.dispatch(new y.h({request:{cityId:this.city.id,published:!0}})))}),this.places$.subscribe(l=>{l&&l.forEach(l=>k.a(this,void 0,void 0,(function*(){l.description||(this.loading.push(l.id),yield this.store.dispatch(new y.j({cityId:this.city.id,placeId:l.id})).toPromise(),this.loading=this.loading.filter(n=>n!==l.id))})))}))}ngOnDestroy(){this.subscriptions.forEach(l=>l.unsubscribe())}scrollCit(l){const n=this.scrollDiv.nativeElement;this.atBottom=n.scrollHeight-n.scrollTop===n.clientHeight,this.scrollService.scrollAtBottom$.next(n.scrollHeight-n.scrollTop===n.clientHeight)}selectPlace(l){return k.a(this,void 0,void 0,(function*(){this.selectedPlace&&l.id===this.selectedPlace.id?(this.selectedPlace=null,this.cd.markForCheck()):(this.enterBtn=!1,this.selectedPlace=l,this.cd.markForCheck())}))}finishTravel(l){this.store.dispatch(new F.h({fragmentId:l})),this.showPlaces=!0,this.cd.markForCheck()}showEnter(l){this.store.dispatch(new F.h({fragmentId:l})),this.enterBtn=!0,this.cd.markForCheck()}enterPlace(l){this.store.dispatch(new F.j({cityId:this.city.id,placeId:l}))}}return k.b([Object(x.e)(ll.a.getCities),k.c("design:type",Object)],l.prototype,"cities$",void 0),k.b([Object(x.e)(ll.a.getPlaces),k.c("design:type",Object)],l.prototype,"allPlaces$",void 0),k.b([Object(x.e)(P.a.getCharacter),k.c("design:type",Object)],l.prototype,"character$",void 0),l})();var ml=t.tb({encapsulation:0,styles:[[".city-selector[_ngcontent-%COMP%]{margin-top:auto;max-height:30%;overflow-y:auto;padding:0 1.5rem;position:fixed;width:100%;bottom:0;background:#fff}.description-tale[_ngcontent-%COMP%]{padding:1.5rem 1rem 0;margin-bottom:40%}"]],data:{}});function vl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=!1!==l.component.finishTravel(l.context.ngIf.id)&&t),t}),q.b,q.a)),t.ub(2,770048,null,0,Z.a,[t.i,W.a],{tale:[0,"tale"]},{finish:"finish"})],(function(l,n){l(n,2,0,n.context.ngIf.tale)}),null)}function gl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,vl)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Lb(3,1),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component,i=t.Qb(n,2,0,l(n,3,0,t.Hb(n.parent.parent,0),u.city.travel));l(n,2,0,i)}),null)}function Il(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"p",[["class","text-muted text-right"]],null,null,null,null,null)),(l()(),t.Pb(1,null,[" - ",""]))],null,(function(l,n){l(n,1,0,n.parent.context.ngIf.author)}))}function kl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","mt-2 pt-2 border-left pl-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=!1!==l.component.showEnter(l.context.ngIf.id)&&t),t}),q.b,q.a)),t.ub(2,770048,null,0,Z.a,[t.i,W.a],{tale:[0,"tale"]},{finish:"finish"}),(l()(),t.kb(16777216,null,null,1,null,Il)),t.ub(4,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,n.context.ngIf.tale),l(n,4,0,u.enterBtn)}),null)}function xl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","d-flex mb-2"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,3,"div",[["class","btn ml-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.enterPlace(i.selectedPlace.id)&&t),t}),null,null)),(l()(),t.Pb(-1,null,[" Visitar "])),(l()(),t.vb(3,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,z.d,z.c)),t.ub(4,573440,null,0,O.c,[$.b,O.a,O.d,[2,O.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,4,0,n.component.faRight,"xl")}),(function(l,n){l(n,3,0,t.Hb(n,4).title,t.Hb(n,4).renderedIconHTML)}))}function yl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,5,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,kl)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Lb(3,1),(l()(),t.kb(16777216,null,null,1,null,xl)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component,i=t.Qb(n,2,0,l(n,3,0,t.Hb(n.parent.parent,0),u.selectedPlace.description));l(n,2,0,i),l(n,5,0,u.enterBtn)}),null)}function Fl(l){return t.Rb(0,[(l()(),t.vb(0,0,[[1,0],["scroll",1]],null,11,"div",[["class","app-main d-flex flex-column h-100 col-12 col-md-4 mx-md-auto"]],null,[[null,"scroll"]],(function(l,n,u){var t=!0;return"scroll"===n&&(t=!1!==l.component.scrollCit(u)&&t),t}),null,null)),(l()(),t.vb(1,0,null,null,10,"div",[["class","description-tale"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.vb(3,0,null,null,4,"h2",[],null,null,null,null,null)),(l()(),t.vb(4,0,null,null,3,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=0!=(l.component.titleAnimationEnd=!0)&&t),t}),q.b,q.a)),t.ub(5,770048,null,0,Z.a,[t.i,W.a],{tale:[0,"tale"]},{finish:"finish"}),t.Kb(6,{text:0,animation:1}),t.Ib(7,1),(l()(),t.kb(16777216,null,null,1,null,gl)),t.ub(9,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,yl)),t.ub(11,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component,t=l(n,7,0,l(n,6,0,u.city.name,"title"));l(n,5,0,t),l(n,9,0,u.city.travel&&u.titleAnimationEnd),l(n,11,0,u.selectedPlace)}),null)}function Pl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-loader",[["class","loader"],["size","md"]],null,null,null,G.b,G.a)),t.ub(2,114688,null,0,X.a,[],{size:[0,"size"]},null)],(function(l,n){l(n,2,0,"md")}),null)}function Hl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto mt-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,z.d,z.c)),t.ub(2,573440,null,0,O.c,[$.b,O.a,O.d,[2,O.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,2,0,n.component.faUp,"xl")}),(function(l,n){l(n,1,0,t.Hb(n,2).title,t.Hb(n,2).renderedIconHTML)}))}function Ml(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,6,"div",[["class","d-flex py-2 border-bottom col-12 col-md-4 mx-md-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectPlace(l.context.$implicit)&&t),t}),null,null)),(l()(),t.vb(2,0,null,null,1,"div",[["class","h5 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Pb(3,null,[" "," "])),(l()(),t.kb(16777216,null,null,1,null,Pl)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Hl)),t.ub(7,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,5,0,n.component.loading.includes(n.context.$implicit.id)),l(n,7,0,null==n.context.$implicit?null:n.context.$implicit.description)}),(function(l,n){l(n,3,0,n.context.$implicit.name)}))}function Cl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","city-selector border-top"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Ml)),t.ub(2,278528,null,0,f.k,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.context.ngIf)}),null)}function wl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,Cl)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Jb(131072,f.b,[t.i]),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,t.Qb(n,2,0,t.Hb(n,3).transform(u.places$)))}),null)}function Rl(l){return t.Rb(0,[t.Jb(0,Y,[]),t.Nb(671088640,1,{scrollDiv:0}),(l()(),t.kb(16777216,null,null,1,null,Fl)),t.ub(3,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,wl)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,3,0,u.city),l(n,5,0,u.showPlaces&&u.atBottom&&(!u.selectedPlace||u.enterBtn))}),null)}function zl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"app-read-city",[],null,null,null,Rl,ml)),t.ub(1,245760,null,0,hl,[x.i,t.i,W.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Ol=t.rb("app-read-city",hl,zl,{},{},[]),$l=u("fBFe"),Ll=u("2QeA");let El=(()=>{class l{constructor(l,n,u){this.store=l,this.cd=n,this.scrollService=u,this.loading=[],this.titleAnimationEnd=!1,this.showNpcs=!1,this.visitBtn=!1,this.faUp=T.d,this.faRight=T.c,this.subscriptions=[],this.atBottom=!0}get places$(){return this.allPlaces$.pipe(Object(pl.a)(l=>l(this.cityId)))}get npcs$(){return this.allNpcs$.pipe(Object(pl.a)(l=>l(this.place&&this.place.id)))}ngOnInit(){this.subscriptions.push(this.character$.subscribe(l=>{this.character=l,this.cityId=this.character.location.cityId}),this.places$.subscribe(l=>{this.place=l.find(l=>l.id===this.character.location.placeId),this.place&&(this.store.dispatch(new y.j({cityId:this.cityId,placeId:this.place.id})),this.store.dispatch(new Ll.a({placeId:this.place.id,published:!1})))}),this.npcs$.subscribe(l=>{l&&l.forEach(l=>k.a(this,void 0,void 0,(function*(){l.description||(this.loading.push(l.id),yield this.store.dispatch(new Ll.c({npcId:l.id,placeId:this.character.location.placeId})).toPromise(),this.loading=this.loading.filter(n=>n!==l.id))})))}))}ngOnDestroy(){this.subscriptions.forEach(l=>l.unsubscribe())}scrollPlace(l){const n=this.scrollDiv.nativeElement;this.atBottom=n.scrollHeight-n.scrollTop===n.clientHeight,this.scrollService.scrollAtBottom$.next(n.scrollHeight-n.scrollTop===n.clientHeight)}selectNpc(l){return k.a(this,void 0,void 0,(function*(){this.selectedNpc&&l.id===this.selectedNpc.id?(this.selectedNpc=null,this.cd.markForCheck()):(this.visitBtn=!1,this.selectedNpc=l,this.cd.markForCheck())}))}finishEntry(l){this.store.dispatch(new F.h({fragmentId:l})),this.showNpcs=!0,this.cd.markForCheck()}showEnter(l){this.store.dispatch(new F.h({fragmentId:l})),this.visitBtn=!0,this.cd.markForCheck()}enterPlace(l){console.log("entrar en",l)}}return k.b([Object(x.e)(P.a.getCharacter),k.c("design:type",Object)],l.prototype,"character$",void 0),k.b([Object(x.e)(ll.a.getPlaces),k.c("design:type",Object)],l.prototype,"allPlaces$",void 0),k.b([Object(x.e)($l.a.getNpcs),k.c("design:type",Object)],l.prototype,"allNpcs$",void 0),l})();var jl=t.tb({encapsulation:0,styles:[[".city-selector[_ngcontent-%COMP%]{margin-top:auto;max-height:30%;overflow-y:auto;padding:0 1.5rem;position:fixed;width:100%;bottom:0;background:#fff}.description-tale[_ngcontent-%COMP%]{padding:1.5rem 1rem 0;margin-bottom:40%}"]],data:{}});function Tl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=!1!==l.component.finishEntry(l.context.ngIf.id)&&t),t}),q.b,q.a)),t.ub(2,770048,null,0,Z.a,[t.i,W.a],{tale:[0,"tale"]},{finish:"finish"})],(function(l,n){l(n,2,0,n.context.ngIf.tale)}),null)}function Bl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,Tl)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Lb(3,1),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component,i=t.Qb(n,2,0,l(n,3,0,t.Hb(n.parent.parent,0),u.place.entry));l(n,2,0,i)}),null)}function Nl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"p",[["class","text-muted text-right"]],null,null,null,null,null)),(l()(),t.Pb(1,null,[" - ",""]))],null,(function(l,n){l(n,1,0,n.parent.context.ngIf.author)}))}function Dl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","mt-2 pt-2 border-left pl-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=!1!==l.component.showEnter(l.context.ngIf.id)&&t),t}),q.b,q.a)),t.ub(2,770048,null,0,Z.a,[t.i,W.a],{tale:[0,"tale"]},{finish:"finish"}),(l()(),t.kb(16777216,null,null,1,null,Nl)),t.ub(4,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,n.context.ngIf.tale),l(n,4,0,u.visitBtn)}),null)}function _l(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","d-flex mb-2"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,3,"div",[["class","btn ml-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.enterPlace(i.selectedNpc.id)&&t),t}),null,null)),(l()(),t.Pb(-1,null,[" Acercarse "])),(l()(),t.vb(3,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,z.d,z.c)),t.ub(4,573440,null,0,O.c,[$.b,O.a,O.d,[2,O.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,4,0,n.component.faRight,"xl")}),(function(l,n){l(n,3,0,t.Hb(n,4).title,t.Hb(n,4).renderedIconHTML)}))}function Jl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Dl)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,_l)),t.ub(4,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.selectedNpc.description),l(n,4,0,u.visitBtn)}),null)}function Ql(l){return t.Rb(0,[(l()(),t.vb(0,0,[[1,0],["scroll",1]],null,11,"div",[["class","app-main d-flex flex-column h-100 col-12 col-md-4 mx-md-auto"]],null,[[null,"scroll"]],(function(l,n,u){var t=!0;return"scroll"===n&&(t=!1!==l.component.scrollPlace(u)&&t),t}),null,null)),(l()(),t.vb(1,0,null,null,10,"div",[["class","description-tale"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.vb(3,0,null,null,4,"h2",[],null,null,null,null,null)),(l()(),t.vb(4,0,null,null,3,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=0!=(l.component.titleAnimationEnd=!0)&&t),t}),q.b,q.a)),t.ub(5,770048,null,0,Z.a,[t.i,W.a],{tale:[0,"tale"]},{finish:"finish"}),t.Kb(6,{text:0,animation:1}),t.Ib(7,1),(l()(),t.kb(16777216,null,null,1,null,Bl)),t.ub(9,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Jl)),t.ub(11,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component,t=l(n,7,0,l(n,6,0,u.place.name,"title"));l(n,5,0,t),l(n,9,0,u.place.entry&&u.titleAnimationEnd),l(n,11,0,u.selectedNpc)}),null)}function Ul(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-loader",[["class","loader"],["size","md"]],null,null,null,G.b,G.a)),t.ub(2,114688,null,0,X.a,[],{size:[0,"size"]},null)],(function(l,n){l(n,2,0,"md")}),null)}function Sl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto mt-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,z.d,z.c)),t.ub(2,573440,null,0,O.c,[$.b,O.a,O.d,[2,O.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,2,0,n.component.faUp,"xl")}),(function(l,n){l(n,1,0,t.Hb(n,2).title,t.Hb(n,2).renderedIconHTML)}))}function Al(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,6,"div",[["class","d-flex py-2 border-bottom col-12 col-md-4 mx-md-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectNpc(l.context.$implicit)&&t),t}),null,null)),(l()(),t.vb(2,0,null,null,1,"div",[["class","h5 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Pb(3,null,[" "," "])),(l()(),t.kb(16777216,null,null,1,null,Ul)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Sl)),t.ub(7,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,5,0,n.component.loading.includes(n.context.$implicit.id)),l(n,7,0,null==n.context.$implicit?null:n.context.$implicit.description)}),(function(l,n){l(n,3,0,n.context.$implicit.name)}))}function Vl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","city-selector border-top"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Al)),t.ub(2,278528,null,0,f.k,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.context.ngIf)}),null)}function Kl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,Vl)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Jb(131072,f.b,[t.i]),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,t.Qb(n,2,0,t.Hb(n,3).transform(u.npcs$)))}),null)}function ql(l){return t.Rb(0,[t.Jb(0,Y,[]),t.Nb(671088640,1,{scrollDiv:0}),(l()(),t.kb(16777216,null,null,1,null,Ql)),t.ub(3,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Kl)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,3,0,u.place),l(n,5,0,u.showNpcs&&u.atBottom&&(!u.selectedNpc||u.visitBtn))}),null)}function Zl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"app-read-place",[],null,null,null,ql,jl)),t.ub(1,245760,null,0,El,[x.i,t.i,W.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Wl=t.rb("app-read-place",El,Zl,{},{},[]),Gl=u("yWMr"),Xl=u("t68o"),Yl=u("zbXB"),ln=u("NcP4"),nn=u("xYTU"),un=u("POq0"),tn=u("DkaU"),en=u("Mc5n"),cn=u("QQfA"),an=u("/Co4"),on=u("Xd0L"),sn=u("qJ5m"),rn=u("s6ns"),bn=u("821u"),dn=u("gavF"),fn=u("JjoW"),pn=u("Mz6y"),hn=u("OIZN"),mn=u("7kcP");class vn{}var gn=u("qJ50"),In=u("zQui"),kn=u("zMNK"),xn=u("KPQW"),yn=u("lwm9"),Fn=u("Fwaw"),Pn=u("mkRZ"),Hn=u("igqZ"),Mn=u("r0V8"),Cn=u("kNGD"),wn=u("Gi4r"),Rn=u("02hT"),zn=u("5Bek"),On=u("c9fC"),$n=u("FVPZ"),Ln=u("oapL"),En=u("HsOI"),jn=u("ZwOa"),Tn=u("Q+lL"),Bn=u("8P0U"),Nn=u("W5yJ"),Dn=u("elxJ"),_n=u("lT8R"),Jn=u("pBi1"),Qn=u("dFDH"),Un=u("8rEH"),Sn=u("rWV4"),An=u("BzsH"),Vn=u("AaDx"),Kn=u("5dmV"),qn=u("Qzl2"),Zn=u("PCNd"),Wn=u("dvZr");u.d(n,"ReadersModuleNgFactory",(function(){return Gn}));var Gn=t.sb(i,[],(function(l){return t.Eb([t.Fb(512,t.k,t.db,[[8,[e.a,R,K,fl,Ol,Wl,Gl.a,Xl.a,Yl.b,Yl.a,ln.a,nn.a,nn.b,z.b,z.a]],[3,t.k],t.x]),t.Fb(4608,f.n,f.m,[t.u,[2,f.z]]),t.Fb(4608,un.b,un.b,[]),t.Fb(135680,b.g,b.g,[t.z,d.a]),t.Fb(4608,tn.e,tn.e,[t.M]),t.Fb(4608,en.a,en.a,[f.d,t.z,s.e,en.c]),t.Fb(4608,cn.a,cn.a,[cn.g,cn.c,t.k,cn.f,cn.d,t.r,t.z,f.d,o.b,[2,f.h]]),t.Fb(5120,cn.h,cn.i,[cn.a]),t.Fb(5120,an.a,an.b,[cn.a]),t.Fb(4608,on.d,on.d,[]),t.Fb(5120,sn.b,sn.a,[[3,sn.b]]),t.Fb(5120,rn.b,rn.c,[cn.a]),t.Fb(135680,rn.d,rn.d,[cn.a,t.r,[2,f.h],[2,rn.a],rn.b,[3,rn.d],cn.c]),t.Fb(4608,bn.h,bn.h,[]),t.Fb(5120,bn.a,bn.b,[cn.a]),t.Fb(5120,dn.c,dn.j,[cn.a]),t.Fb(4608,on.c,on.t,[[2,on.h],d.a]),t.Fb(5120,fn.a,fn.b,[cn.a]),t.Fb(5120,pn.a,pn.b,[cn.a]),t.Fb(4608,$.e,on.e,[[2,on.i],[2,on.l]]),t.Fb(5120,hn.b,hn.a,[[3,hn.b]]),t.Fb(5120,mn.b,mn.a,[[3,mn.b]]),t.Fb(4608,L.u,L.u,[]),t.Fb(4608,L.f,L.f,[]),t.Fb(1073742336,f.c,f.c,[]),t.Fb(1073742336,p.m,p.m,[[2,p.r],[2,p.k]]),t.Fb(1073742336,vn,vn,[]),t.Fb(1073742336,d.b,d.b,[]),t.Fb(1073742336,un.c,un.c,[]),t.Fb(1073742336,b.a,b.a,[]),t.Fb(1073742336,o.a,o.a,[]),t.Fb(1073742336,gn.e,gn.e,[]),t.Fb(1073742336,In.o,In.o,[]),t.Fb(1073742336,tn.c,tn.c,[]),t.Fb(1073742336,en.b,en.b,[]),t.Fb(1073742336,on.l,on.l,[[2,on.f],[2,$.f]]),t.Fb(1073742336,on.s,on.s,[]),t.Fb(1073742336,on.q,on.q,[]),t.Fb(1073742336,on.o,on.o,[]),t.Fb(1073742336,kn.g,kn.g,[]),t.Fb(1073742336,s.c,s.c,[]),t.Fb(1073742336,cn.e,cn.e,[]),t.Fb(1073742336,an.c,an.c,[]),t.Fb(1073742336,xn.a,xn.a,[]),t.Fb(1073742336,yn.c,yn.c,[]),t.Fb(1073742336,Fn.c,Fn.c,[]),t.Fb(1073742336,Pn.a,Pn.a,[]),t.Fb(1073742336,Hn.a,Hn.a,[]),t.Fb(1073742336,Mn.b,Mn.b,[]),t.Fb(1073742336,Mn.a,Mn.a,[]),t.Fb(1073742336,Cn.b,Cn.b,[]),t.Fb(1073742336,wn.a,wn.a,[]),t.Fb(1073742336,sn.c,sn.c,[]),t.Fb(1073742336,rn.g,rn.g,[]),t.Fb(1073742336,bn.i,bn.i,[]),t.Fb(1073742336,Rn.a,Rn.a,[]),t.Fb(1073742336,zn.c,zn.c,[]),t.Fb(1073742336,On.a,On.a,[]),t.Fb(1073742336,on.m,on.m,[]),t.Fb(1073742336,$n.a,$n.a,[]),t.Fb(1073742336,Ln.b,Ln.b,[]),t.Fb(1073742336,En.a,En.a,[]),t.Fb(1073742336,jn.a,jn.a,[]),t.Fb(1073742336,Tn.a,Tn.a,[]),t.Fb(1073742336,dn.i,dn.i,[]),t.Fb(1073742336,dn.f,dn.f,[]),t.Fb(1073742336,on.u,on.u,[]),t.Fb(1073742336,on.n,on.n,[]),t.Fb(1073742336,fn.c,fn.c,[]),t.Fb(1073742336,pn.c,pn.c,[]),t.Fb(1073742336,hn.c,hn.c,[]),t.Fb(1073742336,Bn.a,Bn.a,[]),t.Fb(1073742336,Nn.a,Nn.a,[]),t.Fb(1073742336,Dn.a,Dn.a,[]),t.Fb(1073742336,a.h,a.h,[]),t.Fb(1073742336,_n.a,_n.a,[]),t.Fb(1073742336,Jn.a,Jn.a,[]),t.Fb(1073742336,Qn.d,Qn.d,[]),t.Fb(1073742336,mn.c,mn.c,[]),t.Fb(1073742336,Un.a,Un.a,[]),t.Fb(1073742336,Sn.a,Sn.a,[]),t.Fb(1073742336,An.a,An.a,[]),t.Fb(1073742336,Vn.a,Vn.a,[]),t.Fb(1073742336,Kn.a,Kn.a,[]),t.Fb(1073742336,O.j,O.j,[]),t.Fb(1073742336,L.t,L.t,[]),t.Fb(1073742336,L.i,L.i,[]),t.Fb(1073742336,L.q,L.q,[]),t.Fb(1073742336,qn.b,qn.b,[]),t.Fb(1073742336,Zn.a,Zn.a,[]),t.Fb(1073742336,i,i,[]),t.Fb(1024,p.i,(function(){return[[{path:"",component:H,children:[{path:"",component:N},{path:"select",component:nl},{path:"city",component:hl},{path:"place",component:El}]}]]}),[]),t.Fb(256,Cn.a,{separatorKeyCodes:[Wn.f]},[]),t.Fb(256,on.g,on.j,[])])}))}}]);