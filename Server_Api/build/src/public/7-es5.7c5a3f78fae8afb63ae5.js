(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{kkOj:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class i{}var e=u("pMnS"),c=u("c4Wm"),a=u("BV1i"),o=u("IP0z"),s=u("hOhj"),r=u("omvX"),b=u("5GAg"),d=u("/HVE"),f=u("SVse"),p=u("iInd");class h{constructor(){this.close=new t.n}ngOnInit(){}closeEmit(){this.close.emit(!0)}}var m=t.tb({encapsulation:0,styles:[[".menu-main[_ngcontent-%COMP%]{height:100%}.menu-navbar[_ngcontent-%COMP%]{padding:40px 30px 30px}"]],data:{}});function v(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,"div",[["class","menu-main d-flex border-right"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,6,"nav",[["class","menu-navbar nav flex-column h-100"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.closeEmit()&&t),t}),null,null)),(l()(),t.vb(2,0,null,null,2,"a",[["class","nav-link"],["routerLink","/readers"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var i=!0;return"click"===n&&(i=!1!==t.Hb(l,3).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&i),i}),null,null)),t.ub(3,671744,null,0,p.l,[p.k,p.a,f.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Pb(-1,null,["Home"])),(l()(),t.vb(5,0,null,null,2,"a",[["class","nav-link mt-auto"],["routerLink","/write-or-read"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var i=!0;return"click"===n&&(i=!1!==t.Hb(l,6).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&i),i}),null,null)),t.ub(6,671744,null,0,p.l,[p.k,p.a,f.i],{routerLink:[0,"routerLink"]},null),(l()(),t.Pb(-1,null,["Salir del modo Lector"]))],(function(l,n){l(n,3,0,"/readers"),l(n,6,0,"/write-or-read")}),(function(l,n){l(n,2,0,t.Hb(n,3).target,t.Hb(n,3).href),l(n,5,0,t.Hb(n,6).target,t.Hb(n,6).href)}))}var g=u("WE+f"),I=u("aZ8m"),k=u("mrSG"),x=u("e1JD"),y=u("jPX0"),F=u("6cs4"),P=u("d7Bc");let H=(()=>{class l{constructor(l,n,u){this.store=l,this.router=n,this.actions$=u,this.subscriptions=[]}ngOnInit(){this.store.dispatch(new y.g({published:!1,force:!1})),this.subscriptions.push(this.character$.subscribe(l=>{this.character=l}),this.actions$.pipe(Object(x.k)(F.g,F.j)).subscribe(()=>{this.character.location&&this.character.location.cityId?this.character.location.placeId?this.character.location.npcId||this.router.navigate(["/readers/place"]):this.router.navigate(["/readers/city"]):this.router.navigate(["/readers/select"])}))}ngOnDestroy(){this.subscriptions.forEach(l=>l.unsubscribe())}open(){this.sidenav.open()}close(l){this.sidenav.close()}}return k.b([Object(x.e)(P.a.getCharacter),k.c("design:type",Object)],l.prototype,"character$",void 0),l})();var M=t.tb({encapsulation:0,styles:[[".example-container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}"]],data:{}});function C(l){return t.Rb(0,[t.Nb(671088640,1,{sidenav:0}),(l()(),t.vb(1,0,null,null,13,"mat-sidenav-container",[["class","example-container mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],[[null,"backdropClick"]],(function(l,n,u){var t=!0;return"backdropClick"===n&&(t=!1!==l.component.close("backdrop")&&t),t}),c.d,c.b)),t.ub(2,1490944,null,2,a.f,[[2,o.b],t.l,t.z,t.i,s.e,a.a,[2,r.a]],null,{backdropClick:"backdropClick"}),t.Nb(603979776,2,{_drawers:1}),t.Nb(603979776,3,{_content:0}),(l()(),t.vb(5,0,null,0,3,"mat-sidenav",[["class","mat-drawer mat-sidenav"],["disableClose",""],["tabIndex","-1"]],[[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[[null,"keydown.escape"],["component","@transform.start"],["component","@transform.done"]],(function(l,n,u){var i=!0,e=l.component;return"component:@transform.start"===n&&(i=!1!==t.Hb(l,6)._animationStartListener(u)&&i),"component:@transform.done"===n&&(i=!1!==t.Hb(l,6)._animationDoneListener(u)&&i),"keydown.escape"===n&&(i=!1!==e.close("escape")&&i),i}),c.f,c.a)),t.ub(6,3325952,[[2,4],[1,4],["sidenav",4]],0,a.e,[t.l,b.h,b.g,d.a,t.z,[2,f.d]],{disableClose:[0,"disableClose"]},null),(l()(),t.vb(7,0,null,0,1,"app-reader-nav",[],null,[[null,"close"]],(function(l,n,u){var t=!0;return"close"===n&&(t=!1!==l.component.close("escape")&&t),t}),v,m)),t.ub(8,114688,null,0,h,[],null,{close:"close"}),(l()(),t.vb(9,0,null,1,5,"mat-sidenav-content",[["class","h-100 mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,c.e,c.c)),t.ub(10,1294336,[[3,4]],0,a.g,[t.i,a.f,t.l,s.b,t.z],null,null),(l()(),t.vb(11,0,null,0,1,"app-header",[],null,[[null,"menu"]],(function(l,n,u){var t=!0;return"menu"===n&&(t=!1!==l.component.open()&&t),t}),g.b,g.a)),t.ub(12,114688,null,0,I.a,[p.k,f.h],{backBtn:[0,"backBtn"]},{menu:"menu"}),(l()(),t.vb(13,16777216,null,0,1,"router-outlet",[],null,null,null,null,null)),t.ub(14,212992,null,0,p.n,[p.b,t.P,t.k,[8,null],t.i],null,null)],(function(l,n){l(n,2,0),l(n,6,0,""),l(n,8,0),l(n,10,0),l(n,12,0,!0),l(n,14,0)}),(function(l,n){l(n,1,0,t.Hb(n,2)._backdropOverride),l(n,5,0,null,"end"===t.Hb(n,6).position,"over"===t.Hb(n,6).mode,"push"===t.Hb(n,6).mode,"side"===t.Hb(n,6).mode,t.Hb(n,6).fixedInViewport,t.Hb(n,6).fixedInViewport?t.Hb(n,6).fixedTopGap:null,t.Hb(n,6).fixedInViewport?t.Hb(n,6).fixedBottomGap:null,t.Hb(n,6)._animationState),l(n,9,0,t.Hb(n,10)._container._contentMargins.left,t.Hb(n,10)._container._contentMargins.right)}))}var w=t.rb("app-readers",H,(function(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"app-readers",[],null,null,null,C,M)),t.ub(1,245760,null,0,H,[x.i,p.k,x.b],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),R=u("fNgX"),z=u("Nv++"),O=u("cUpR"),$=u("s7LF"),L=u("kggM"),E=u("P/Z+"),j=u("wHSu"),T=u("umPq");let B=(()=>{class l{constructor(l,n){this.store=l,this.fb=n,this.subscription=[],this.faUser=j.l,this.faUserPlus=j.m,this.faRight=j.c,this.faTimes=j.k}ngOnInit(){this.subscription.push(this.$user.subscribe(l=>{this.user=l})),this.createForm(),this.getCharacters()}ngOnDestroy(){this.subscription.forEach(l=>{l.unsubscribe()})}createForm(){this.characterForm=this.fb.group({userId:[this.user.id,[]],name:[null,[$.s.required]]})}getCharacters(){return k.a(this,void 0,void 0,(function*(){yield this.store.dispatch(new F.c).toPromise()}))}createCharacter(){return k.a(this,void 0,void 0,(function*(){Object(T.a)(this.characterForm)&&(yield this.store.dispatch(new F.f(this.characterForm.value)).toPromise(),this.createForm())}))}deleteCharacter(l){return k.a(this,void 0,void 0,(function*(){yield this.store.dispatch(new F.b({id:l})).toPromise()}))}selectCharacter(l){return k.a(this,void 0,void 0,(function*(){yield this.store.dispatch(new F.g(l)).toPromise()}))}}return k.b([Object(x.e)(P.a.getUser),k.c("design:type",Object)],l.prototype,"$user",void 0),l})();var N=t.tb({encapsulation:0,styles:[[""]],data:{}});function D(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.Pb(1,null,[" - "," "])),t.Lb(2,2),t.Jb(131072,f.b,[t.i])],null,(function(l,n){var u=t.Qb(n,1,0,t.Hb(n,3).transform(t.Qb(n,1,0,l(n,2,0,t.Hb(n.parent.parent.parent.parent,2),n.parent.parent.context.$implicit.location.placeId,null==n.parent.parent.context.$implicit.location?null:n.parent.parent.context.$implicit.location.cityId))));l(n,1,0,u)}))}function _(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,5,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.Pb(1,null,[" "," "])),t.Lb(2,1),t.Jb(131072,f.b,[t.i]),(l()(),t.kb(16777216,null,null,1,null,D)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,5,0,n.parent.context.$implicit.location.placeId)}),(function(l,n){var u=t.Qb(n,1,0,t.Hb(n,3).transform(t.Qb(n,1,0,l(n,2,0,t.Hb(n.parent.parent.parent,1),n.parent.context.$implicit.location.cityId))));l(n,1,0,u)}))}function J(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,[" Inicio "]))],null,null)}function Q(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,26,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,25,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,24,"div",[["class","card-body d-flex flex-column"]],null,null,null,null,null)),(l()(),t.vb(3,0,null,null,7,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),t.vb(4,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["size","3x"]],[[1,"title",0],[8,"innerHTML",1]],null,null,R.d,R.c)),t.ub(5,573440,null,0,z.c,[O.b,z.a,z.d,[2,z.i]],{icon:[0,"icon"],size:[1,"size"]},null),(l()(),t.vb(6,0,null,null,1,"div",[["class","my-auto ml-4 h4"]],null,null,null,null,null)),(l()(),t.Pb(7,null,[" "," "])),(l()(),t.vb(8,0,null,null,2,"div",[["class","ml-auto mb-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.deleteCharacter(l.context.$implicit.id)&&t),t}),null,null)),(l()(),t.vb(9,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","lg"]],[[1,"title",0],[8,"innerHTML",1]],null,null,R.d,R.c)),t.ub(10,573440,null,0,z.c,[O.b,z.a,z.d,[2,z.i]],{icon:[0,"icon"],size:[1,"size"]},null),(l()(),t.vb(11,0,null,null,11,"div",[["class","my-3 w-100"]],null,null,null,null,null)),(l()(),t.vb(12,0,null,null,4,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),t.vb(13,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Dinero"])),(l()(),t.vb(15,0,null,null,1,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.Pb(16,null,[" "," "])),(l()(),t.vb(17,0,null,null,5,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),t.vb(18,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Ubicacion"])),(l()(),t.kb(16777216,null,null,1,null,_)),t.ub(21,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.kb(0,[["noPlace",2]],null,0,null,J)),(l()(),t.vb(23,0,null,null,3,"div",[["class","ml-auto mt-4 h5"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectCharacter(l.context.$implicit)&&t),t}),null,null)),(l()(),t.Pb(-1,null,[" Continuar "])),(l()(),t.vb(25,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","lg"]],[[1,"title",0],[8,"innerHTML",1]],null,null,R.d,R.c)),t.ub(26,573440,null,0,z.c,[O.b,z.a,z.d,[2,z.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){var u=n.component;l(n,5,0,u.faUser,"3x"),l(n,10,0,u.faTimes,"lg"),l(n,21,0,n.context.$implicit.location,t.Hb(n,22)),l(n,26,0,u.faRight,"lg")}),(function(l,n){l(n,4,0,t.Hb(n,5).title,t.Hb(n,5).renderedIconHTML),l(n,7,0,n.context.$implicit.name),l(n,9,0,t.Hb(n,10).title,t.Hb(n,10).renderedIconHTML),l(n,16,0,n.context.$implicit.money),l(n,25,0,t.Hb(n,26).title,t.Hb(n,26).renderedIconHTML)}))}function U(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,33,"div",[["class","app-main_writers"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,2,"h2",[],null,null,null,null,null)),(l()(),t.Pb(2,null,["Bienvenido ","!"])),t.Lb(3,1),(l()(),t.vb(4,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Este es "])),(l()(),t.vb(6,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["El Modo Lector"])),(l()(),t.Pb(-1,null,[". Aca podras disfrutar de las aventuras de este nuevo mundo."])),(l()(),t.vb(9,0,null,null,24,"div",[["class","row mt-5"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Q)),t.ub(11,278528,null,0,f.k,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.vb(12,0,null,null,21,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(l()(),t.vb(13,0,null,null,20,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.vb(14,0,null,null,19,"div",[["class","card-body d-flex flex-column"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var i=!0;return"submit"===n&&(i=!1!==t.Hb(l,15).onSubmit(u)&&i),"reset"===n&&(i=!1!==t.Hb(l,15).onReset()&&i),i}),null,null)),t.ub(15,540672,null,0,$.h,[[8,null],[8,null]],{form:[0,"form"]},null),t.Mb(2048,null,$.d,null,[$.h]),t.ub(17,16384,null,0,$.n,[[4,$.d]],null,null),(l()(),t.vb(18,0,null,null,4,"div",[["class","d-flex"]],null,null,null,null,null)),(l()(),t.vb(19,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["size","3x"]],[[1,"title",0],[8,"innerHTML",1]],null,null,R.d,R.c)),t.ub(20,573440,null,0,z.c,[O.b,z.a,z.d,[2,z.i]],{icon:[0,"icon"],size:[1,"size"]},null),(l()(),t.vb(21,0,null,null,1,"div",[["class","my-auto ml-4 h4"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,[" Nuevo personaje: "])),(l()(),t.vb(23,0,null,null,6,"div",[["class","my-3 ml-4 py-3"]],null,null,null,null,null)),(l()(),t.vb(24,0,null,null,5,"input",[["class","form-control"],["formControlName","name"],["placeholder","Nombre del personaje"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var i=!0;return"input"===n&&(i=!1!==t.Hb(l,25)._handleInput(u.target.value)&&i),"blur"===n&&(i=!1!==t.Hb(l,25).onTouched()&&i),"compositionstart"===n&&(i=!1!==t.Hb(l,25)._compositionStart()&&i),"compositionend"===n&&(i=!1!==t.Hb(l,25)._compositionEnd(u.target.value)&&i),i}),null,null)),t.ub(25,16384,null,0,$.e,[t.E,t.l,[2,$.a]],null,null),t.Mb(1024,null,$.k,(function(l){return[l]}),[$.e]),t.ub(27,671744,null,0,$.g,[[3,$.d],[8,null],[8,null],[6,$.k],[2,$.v]],{name:[0,"name"]},null),t.Mb(2048,null,$.l,null,[$.g]),t.ub(29,16384,null,0,$.m,[[4,$.l]],null,null),(l()(),t.vb(30,0,null,null,3,"div",[["class","ml-auto mt-4h5"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.createCharacter()&&t),t}),null,null)),(l()(),t.Pb(-1,null,[" Crear "])),(l()(),t.vb(32,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","lg"]],[[1,"title",0],[8,"innerHTML",1]],null,null,R.d,R.c)),t.ub(33,573440,null,0,z.c,[O.b,z.a,z.d,[2,z.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){var u=n.component;l(n,11,0,n.context.ngIf.characters),l(n,15,0,u.characterForm),l(n,20,0,u.faUserPlus,"3x"),l(n,27,0,"name"),l(n,33,0,u.faRight,"lg")}),(function(l,n){var u=t.Qb(n,2,0,l(n,3,0,t.Hb(n.parent,0),n.context.ngIf.username));l(n,2,0,u),l(n,14,0,t.Hb(n,17).ngClassUntouched,t.Hb(n,17).ngClassTouched,t.Hb(n,17).ngClassPristine,t.Hb(n,17).ngClassDirty,t.Hb(n,17).ngClassValid,t.Hb(n,17).ngClassInvalid,t.Hb(n,17).ngClassPending),l(n,19,0,t.Hb(n,20).title,t.Hb(n,20).renderedIconHTML),l(n,24,0,t.Hb(n,29).ngClassUntouched,t.Hb(n,29).ngClassTouched,t.Hb(n,29).ngClassPristine,t.Hb(n,29).ngClassDirty,t.Hb(n,29).ngClassValid,t.Hb(n,29).ngClassInvalid,t.Hb(n,29).ngClassPending),l(n,32,0,t.Hb(n,33).title,t.Hb(n,33).renderedIconHTML)}))}function S(l){return t.Rb(0,[t.Jb(0,f.s,[]),t.Jb(0,L.a,[x.i]),t.Jb(0,E.a,[x.i]),(l()(),t.kb(16777216,null,null,2,null,U)),t.ub(4,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Jb(131072,f.b,[t.i])],(function(l,n){var u=n.component;l(n,4,0,t.Qb(n,4,0,t.Hb(n,5).transform(u.$user)))}),null)}var A=t.rb("app-readers-home",B,(function(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"app-readers-home",[],null,null,null,S,N)),t.ub(1,245760,null,0,B,[x.i,$.f],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),V=u("KfNz"),K=u("rhCF"),q=u("BNZ1"),Z=u("npC/"),W=u("668k");class G{transform(l,n){return l&&l.length>0?l[Math.floor(Math.random()*l.length)]:null}}var X=u("ydoa");let Y=(()=>{class l{constructor(l,n,u){this.store=l,this.cd=n,this.scrollService=u,this.cities=[],this.loading=[],this.enterBtn=!1,this.faUp=j.d,this.faRight=j.c,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.cities$.subscribe(l=>{this.cities=l,this.cities.forEach(l=>k.a(this,void 0,void 0,(function*(){l.description||(this.loading.push(l.id),yield this.store.dispatch(new y.i({cityId:l.id})).toPromise(),this.loading=this.loading.filter(n=>n!==l.id))})))}))}ngOnDestroy(){this.subscriptions.forEach(l=>l.unsubscribe())}scrollCityDescription(l){const n=this.scrollDiv.nativeElement;this.scrollService.scrollAtBottom$.next(n.scrollHeight-n.scrollTop===n.clientHeight)}selectCity(l){return k.a(this,void 0,void 0,(function*(){this.selectedCity&&l.id===this.selectedCity.id?(this.selectedCity=null,this.cd.markForCheck()):(this.enterBtn=!1,this.selectedCity=l,this.scrollDiv.nativeElement.scrollTop=0,this.scrollService.scrollElement$.next(this.scrollDiv.nativeElement))}))}showEnter(l){this.store.dispatch(new F.h({fragmentId:l})),this.enterBtn=!0}enterCity(l){this.store.dispatch(new F.j({cityId:l}))}}return k.b([Object(x.e)(X.a.getCities),k.c("design:type",Object)],l.prototype,"cities$",void 0),l})();var ll=t.tb({encapsulation:0,styles:[[".city-selector[_ngcontent-%COMP%]{margin-top:auto;max-height:30%;overflow-y:auto;padding:0 1.5rem;position:fixed;width:100%;bottom:0;background:#fff}.description-tale[_ngcontent-%COMP%]{padding:1.5rem 1rem 0;margin-bottom:40%}"]],data:{}});function nl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"p",[["class","text-muted text-right"]],null,null,null,null,null)),(l()(),t.Pb(1,null,[" - ",""]))],null,(function(l,n){l(n,1,0,n.parent.context.ngIf.author)}))}function ul(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","mt-1 pt-2 border-left pl-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=!1!==l.component.showEnter(l.context.ngIf.id)&&t),t}),V.b,V.a)),t.ub(2,770048,null,0,K.a,[t.i,q.a],{tale:[0,"tale"]},{finish:"finish"}),(l()(),t.kb(16777216,null,null,1,null,nl)),t.ub(4,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,n.context.ngIf.tale),l(n,4,0,u.enterBtn)}),null)}function tl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","d-flex mb-2"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,3,"div",[["class","btn ml-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.enterCity(i.selectedCity.id)&&t),t}),null,null)),(l()(),t.Pb(-1,null,[" Viajar "])),(l()(),t.vb(3,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,R.d,R.c)),t.ub(4,573440,null,0,z.c,[O.b,z.a,z.d,[2,z.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,4,0,n.component.faRight,"xl")}),(function(l,n){l(n,3,0,t.Hb(n,4).title,t.Hb(n,4).renderedIconHTML)}))}function il(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,5,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,ul)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Lb(3,1),(l()(),t.kb(16777216,null,null,1,null,tl)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component,i=t.Qb(n,2,0,l(n,3,0,t.Hb(n.parent.parent,0),u.selectedCity.description));l(n,2,0,i),l(n,5,0,u.enterBtn)}),null)}function el(l){return t.Rb(0,[(l()(),t.vb(0,0,[[1,0],["scroll",1]],null,7,"div",[["class","app-main d-flex flex-column h-100 col-12 col-md-4 mx-md-auto"]],null,[[null,"scroll"]],(function(l,n,u){var t=!0;return"scroll"===n&&(t=!1!==l.component.scrollCityDescription(u)&&t),t}),null,null)),(l()(),t.vb(1,0,null,null,6,"div",[["class","description-tale"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Selecciona una ciudad"])),(l()(),t.vb(4,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Para comenzar, debes elegir la ciudad donde deseas comenzar tu aventura."])),(l()(),t.kb(16777216,null,null,1,null,il)),t.ub(7,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,7,0,n.component.selectedCity)}),null)}function cl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-loader",[["class","loader"],["size","md"]],null,null,null,Z.b,Z.a)),t.ub(2,114688,null,0,W.a,[],{size:[0,"size"]},null)],(function(l,n){l(n,2,0,"md")}),null)}function al(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto mt-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,R.d,R.c)),t.ub(2,573440,null,0,z.c,[O.b,z.a,z.d,[2,z.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,2,0,n.component.faUp,"xl")}),(function(l,n){l(n,1,0,t.Hb(n,2).title,t.Hb(n,2).renderedIconHTML)}))}function ol(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,6,"div",[["class","d-flex py-2 border-bottom col-12 col-md-4 mx-md-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectCity(l.context.$implicit)&&t),t}),null,null)),(l()(),t.vb(2,0,null,null,1,"div",[["class","h5 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Pb(3,null,[" "," "])),(l()(),t.kb(16777216,null,null,1,null,cl)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,al)),t.ub(7,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,5,0,u.loading.includes(u.cityId)),l(n,7,0,null==n.context.$implicit?null:n.context.$implicit.description)}),(function(l,n){l(n,3,0,n.context.$implicit.name)}))}function sl(l){return t.Rb(0,[t.Jb(0,G,[]),t.Nb(671088640,1,{scrollDiv:0}),(l()(),t.kb(16777216,null,null,2,null,el)),t.ub(3,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Jb(131072,f.b,[t.i]),(l()(),t.vb(5,0,null,null,2,"div",[["class","city-selector border-top"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,ol)),t.ub(7,278528,null,0,f.k,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,3,0,t.Qb(n,3,0,t.Hb(n,4).transform(u.cities$))),l(n,7,0,u.cities)}),null)}var rl=t.rb("app-select-city",Y,(function(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"app-select-city",[],null,null,null,sl,ll)),t.ub(1,245760,null,0,Y,[x.i,t.i,q.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),bl=u("lJxs");let dl=(()=>{class l{constructor(l,n,u){this.store=l,this.cd=n,this.scrollService=u,this.loading=[],this.titleAnimationEnd=!1,this.showPlaces=!1,this.enterBtn=!1,this.faUp=j.d,this.faRight=j.c,this.subscriptions=[],this.atBottom=!0}get places$(){return this.allPlaces$.pipe(Object(bl.a)(l=>l(this.city&&this.city.id)))}ngOnInit(){this.subscriptions.push(this.character$.subscribe(l=>{this.character=l}),this.cities$.subscribe(l=>{this.city=l.find(l=>l.id===this.character.location.cityId),this.city&&(this.store.dispatch(new y.i({cityId:this.city.id})),this.store.dispatch(new y.h({request:{cityId:this.city.id,published:!0}})))}),this.places$.subscribe(l=>{l&&l.forEach(l=>k.a(this,void 0,void 0,(function*(){l.description||(this.loading.push(l.id),yield this.store.dispatch(new y.j({cityId:this.city.id,placeId:l.id})).toPromise(),this.loading=this.loading.filter(n=>n!==l.id))})))}))}ngOnDestroy(){this.subscriptions.forEach(l=>l.unsubscribe())}scrollCit(l){const n=this.scrollDiv.nativeElement;this.atBottom=n.scrollHeight-n.scrollTop===n.clientHeight,this.scrollService.scrollAtBottom$.next(n.scrollHeight-n.scrollTop===n.clientHeight)}selectPlace(l){return k.a(this,void 0,void 0,(function*(){this.selectedPlace&&l.id===this.selectedPlace.id?(this.selectedPlace=null,this.cd.markForCheck()):(this.enterBtn=!1,this.selectedPlace=l,this.cd.markForCheck())}))}finishTravel(l){this.store.dispatch(new F.h({fragmentId:l})),this.showPlaces=!0,this.cd.markForCheck()}showEnter(l){this.store.dispatch(new F.h({fragmentId:l})),this.enterBtn=!0,this.cd.markForCheck()}enterPlace(l){this.store.dispatch(new F.j({cityId:this.city.id,placeId:l}))}}return k.b([Object(x.e)(X.a.getCities),k.c("design:type",Object)],l.prototype,"cities$",void 0),k.b([Object(x.e)(X.a.getPlaces),k.c("design:type",Object)],l.prototype,"allPlaces$",void 0),k.b([Object(x.e)(P.a.getCharacter),k.c("design:type",Object)],l.prototype,"character$",void 0),l})();var fl=t.tb({encapsulation:0,styles:[[".city-selector[_ngcontent-%COMP%]{margin-top:auto;max-height:30%;overflow-y:auto;padding:0 1.5rem;position:fixed;width:100%;bottom:0;background:#fff}.description-tale[_ngcontent-%COMP%]{padding:1.5rem 1rem 0;margin-bottom:40%}"]],data:{}});function pl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=!1!==l.component.finishTravel(l.context.ngIf.id)&&t),t}),V.b,V.a)),t.ub(2,770048,null,0,K.a,[t.i,q.a],{tale:[0,"tale"]},{finish:"finish"})],(function(l,n){l(n,2,0,n.context.ngIf.tale)}),null)}function hl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,pl)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Lb(3,1),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component,i=t.Qb(n,2,0,l(n,3,0,t.Hb(n.parent.parent,0),u.city.travel));l(n,2,0,i)}),null)}function ml(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"p",[["class","text-muted text-right"]],null,null,null,null,null)),(l()(),t.Pb(1,null,[" - ",""]))],null,(function(l,n){l(n,1,0,n.parent.context.ngIf.author)}))}function vl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","mt-2 pt-2 border-left pl-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=!1!==l.component.showEnter(l.context.ngIf.id)&&t),t}),V.b,V.a)),t.ub(2,770048,null,0,K.a,[t.i,q.a],{tale:[0,"tale"]},{finish:"finish"}),(l()(),t.kb(16777216,null,null,1,null,ml)),t.ub(4,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,n.context.ngIf.tale),l(n,4,0,u.enterBtn)}),null)}function gl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","d-flex mb-2"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,3,"div",[["class","btn ml-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.enterPlace(i.selectedPlace.id)&&t),t}),null,null)),(l()(),t.Pb(-1,null,[" Visitar "])),(l()(),t.vb(3,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,R.d,R.c)),t.ub(4,573440,null,0,z.c,[O.b,z.a,z.d,[2,z.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,4,0,n.component.faRight,"xl")}),(function(l,n){l(n,3,0,t.Hb(n,4).title,t.Hb(n,4).renderedIconHTML)}))}function Il(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,5,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,vl)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Lb(3,1),(l()(),t.kb(16777216,null,null,1,null,gl)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component,i=t.Qb(n,2,0,l(n,3,0,t.Hb(n.parent.parent,0),u.selectedPlace.description));l(n,2,0,i),l(n,5,0,u.enterBtn)}),null)}function kl(l){return t.Rb(0,[(l()(),t.vb(0,0,[[1,0],["scroll",1]],null,11,"div",[["class","app-main d-flex flex-column h-100 col-12 col-md-4 mx-md-auto"]],null,[[null,"scroll"]],(function(l,n,u){var t=!0;return"scroll"===n&&(t=!1!==l.component.scrollCit(u)&&t),t}),null,null)),(l()(),t.vb(1,0,null,null,10,"div",[["class","description-tale"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.vb(3,0,null,null,4,"h2",[],null,null,null,null,null)),(l()(),t.vb(4,0,null,null,3,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=0!=(l.component.titleAnimationEnd=!0)&&t),t}),V.b,V.a)),t.ub(5,770048,null,0,K.a,[t.i,q.a],{tale:[0,"tale"]},{finish:"finish"}),t.Kb(6,{text:0,animation:1}),t.Ib(7,1),(l()(),t.kb(16777216,null,null,1,null,hl)),t.ub(9,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Il)),t.ub(11,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component,t=l(n,7,0,l(n,6,0,u.city.name,"title"));l(n,5,0,t),l(n,9,0,u.city.travel&&u.titleAnimationEnd),l(n,11,0,u.selectedPlace)}),null)}function xl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-loader",[["class","loader"],["size","md"]],null,null,null,Z.b,Z.a)),t.ub(2,114688,null,0,W.a,[],{size:[0,"size"]},null)],(function(l,n){l(n,2,0,"md")}),null)}function yl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto mt-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,R.d,R.c)),t.ub(2,573440,null,0,z.c,[O.b,z.a,z.d,[2,z.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,2,0,n.component.faUp,"xl")}),(function(l,n){l(n,1,0,t.Hb(n,2).title,t.Hb(n,2).renderedIconHTML)}))}function Fl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,6,"div",[["class","d-flex py-2 border-bottom col-12 col-md-4 mx-md-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectPlace(l.context.$implicit)&&t),t}),null,null)),(l()(),t.vb(2,0,null,null,1,"div",[["class","h5 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Pb(3,null,[" "," "])),(l()(),t.kb(16777216,null,null,1,null,xl)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,yl)),t.ub(7,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,5,0,n.component.loading.includes(n.context.$implicit.id)),l(n,7,0,null==n.context.$implicit?null:n.context.$implicit.description)}),(function(l,n){l(n,3,0,n.context.$implicit.name)}))}function Pl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","city-selector border-top"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Fl)),t.ub(2,278528,null,0,f.k,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.context.ngIf)}),null)}function Hl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,Pl)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Jb(131072,f.b,[t.i]),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,t.Qb(n,2,0,t.Hb(n,3).transform(u.places$)))}),null)}function Ml(l){return t.Rb(0,[t.Jb(0,G,[]),t.Nb(671088640,1,{scrollDiv:0}),(l()(),t.kb(16777216,null,null,1,null,kl)),t.ub(3,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Hl)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,3,0,u.city),l(n,5,0,u.showPlaces&&u.atBottom&&(!u.selectedPlace||u.enterBtn))}),null)}var Cl=t.rb("app-read-city",dl,(function(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"app-read-city",[],null,null,null,Ml,fl)),t.ub(1,245760,null,0,dl,[x.i,t.i,q.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),wl=u("fBFe"),Rl=u("2QeA");let zl=(()=>{class l{constructor(l,n,u){this.store=l,this.cd=n,this.scrollService=u,this.loading=[],this.titleAnimationEnd=!1,this.showNpcs=!1,this.visitBtn=!1,this.faUp=j.d,this.faRight=j.c,this.subscriptions=[],this.atBottom=!0}get places$(){return this.allPlaces$.pipe(Object(bl.a)(l=>l(this.cityId)))}get npcs$(){return this.allNpcs$.pipe(Object(bl.a)(l=>l(this.place&&this.place.id)))}ngOnInit(){this.subscriptions.push(this.character$.subscribe(l=>{this.character=l,this.cityId=this.character.location.cityId}),this.places$.subscribe(l=>{this.place=l.find(l=>l.id===this.character.location.placeId),this.place&&(this.store.dispatch(new y.j({cityId:this.cityId,placeId:this.place.id})),this.store.dispatch(new Rl.a({placeId:this.place.id,published:!1})))}),this.npcs$.subscribe(l=>{l&&l.forEach(l=>k.a(this,void 0,void 0,(function*(){l.description||(this.loading.push(l.id),yield this.store.dispatch(new Rl.c({npcId:l.id,placeId:this.character.location.placeId})).toPromise(),this.loading=this.loading.filter(n=>n!==l.id))})))}))}ngOnDestroy(){this.subscriptions.forEach(l=>l.unsubscribe())}scrollPlace(l){const n=this.scrollDiv.nativeElement;this.atBottom=n.scrollHeight-n.scrollTop===n.clientHeight,this.scrollService.scrollAtBottom$.next(n.scrollHeight-n.scrollTop===n.clientHeight)}selectNpc(l){return k.a(this,void 0,void 0,(function*(){this.selectedNpc&&l.id===this.selectedNpc.id?(this.selectedNpc=null,this.cd.markForCheck()):(this.visitBtn=!1,this.selectedNpc=l,this.cd.markForCheck())}))}finishEntry(l){this.store.dispatch(new F.h({fragmentId:l})),this.showNpcs=!0,this.cd.markForCheck()}showEnter(l){this.store.dispatch(new F.h({fragmentId:l})),this.visitBtn=!0,this.cd.markForCheck()}enterPlace(l){console.log("entrar en",l)}}return k.b([Object(x.e)(P.a.getCharacter),k.c("design:type",Object)],l.prototype,"character$",void 0),k.b([Object(x.e)(X.a.getPlaces),k.c("design:type",Object)],l.prototype,"allPlaces$",void 0),k.b([Object(x.e)(wl.a.getNpcs),k.c("design:type",Object)],l.prototype,"allNpcs$",void 0),l})();var Ol=t.tb({encapsulation:0,styles:[[".city-selector[_ngcontent-%COMP%]{margin-top:auto;max-height:30%;overflow-y:auto;padding:0 1.5rem;position:fixed;width:100%;bottom:0;background:#fff}.description-tale[_ngcontent-%COMP%]{padding:1.5rem 1rem 0;margin-bottom:40%}"]],data:{}});function $l(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","mt-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=!1!==l.component.finishEntry(l.context.ngIf.id)&&t),t}),V.b,V.a)),t.ub(2,770048,null,0,K.a,[t.i,q.a],{tale:[0,"tale"]},{finish:"finish"})],(function(l,n){l(n,2,0,n.context.ngIf.tale)}),null)}function Ll(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,$l)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Lb(3,1),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component,i=t.Qb(n,2,0,l(n,3,0,t.Hb(n.parent.parent,0),u.place.entry));l(n,2,0,i)}),null)}function El(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"p",[["class","text-muted text-right"]],null,null,null,null,null)),(l()(),t.Pb(1,null,[" - ",""]))],null,(function(l,n){l(n,1,0,n.parent.context.ngIf.author)}))}function jl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","mt-2 pt-2 border-left pl-3"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=!1!==l.component.showEnter(l.context.ngIf.id)&&t),t}),V.b,V.a)),t.ub(2,770048,null,0,K.a,[t.i,q.a],{tale:[0,"tale"]},{finish:"finish"}),(l()(),t.kb(16777216,null,null,1,null,El)),t.ub(4,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,2,0,n.context.ngIf.tale),l(n,4,0,u.visitBtn)}),null)}function Tl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","d-flex mb-2"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,3,"div",[["class","btn ml-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==i.enterPlace(i.selectedNpc.id)&&t),t}),null,null)),(l()(),t.Pb(-1,null,[" Acercarse "])),(l()(),t.vb(3,0,null,null,1,"fa-icon",[["class","ml-3 ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,R.d,R.c)),t.ub(4,573440,null,0,z.c,[O.b,z.a,z.d,[2,z.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,4,0,n.component.faRight,"xl")}),(function(l,n){l(n,3,0,t.Hb(n,4).title,t.Hb(n,4).renderedIconHTML)}))}function Bl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,jl)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Tl)),t.ub(4,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.selectedNpc.description),l(n,4,0,u.visitBtn)}),null)}function Nl(l){return t.Rb(0,[(l()(),t.vb(0,0,[[1,0],["scroll",1]],null,11,"div",[["class","app-main d-flex flex-column h-100 col-12 col-md-4 mx-md-auto"]],null,[[null,"scroll"]],(function(l,n,u){var t=!0;return"scroll"===n&&(t=!1!==l.component.scrollPlace(u)&&t),t}),null,null)),(l()(),t.vb(1,0,null,null,10,"div",[["class","description-tale"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.vb(3,0,null,null,4,"h2",[],null,null,null,null,null)),(l()(),t.vb(4,0,null,null,3,"app-animated-fragment",[],null,[[null,"finish"]],(function(l,n,u){var t=!0;return"finish"===n&&(t=0!=(l.component.titleAnimationEnd=!0)&&t),t}),V.b,V.a)),t.ub(5,770048,null,0,K.a,[t.i,q.a],{tale:[0,"tale"]},{finish:"finish"}),t.Kb(6,{text:0,animation:1}),t.Ib(7,1),(l()(),t.kb(16777216,null,null,1,null,Ll)),t.ub(9,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Bl)),t.ub(11,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component,t=l(n,7,0,l(n,6,0,u.place.name,"title"));l(n,5,0,t),l(n,9,0,u.place.entry&&u.titleAnimationEnd),l(n,11,0,u.selectedNpc)}),null)}function Dl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"app-loader",[["class","loader"],["size","md"]],null,null,null,Z.b,Z.a)),t.ub(2,114688,null,0,W.a,[],{size:[0,"size"]},null)],(function(l,n){l(n,2,0,"md")}),null)}function _l(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","ml-auto mt-auto"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"fa-icon",[["class","ng-fa-icon"],["size","xl"]],[[1,"title",0],[8,"innerHTML",1]],null,null,R.d,R.c)),t.ub(2,573440,null,0,z.c,[O.b,z.a,z.d,[2,z.i]],{icon:[0,"icon"],size:[1,"size"]},null)],(function(l,n){l(n,2,0,n.component.faUp,"xl")}),(function(l,n){l(n,1,0,t.Hb(n,2).title,t.Hb(n,2).renderedIconHTML)}))}function Jl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,6,"div",[["class","d-flex py-2 border-bottom col-12 col-md-4 mx-md-auto"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.selectNpc(l.context.$implicit)&&t),t}),null,null)),(l()(),t.vb(2,0,null,null,1,"div",[["class","h5 font-weight-normal"]],null,null,null,null,null)),(l()(),t.Pb(3,null,[" "," "])),(l()(),t.kb(16777216,null,null,1,null,Dl)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,_l)),t.ub(7,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,5,0,n.component.loading.includes(n.context.$implicit.id)),l(n,7,0,null==n.context.$implicit?null:n.context.$implicit.description)}),(function(l,n){l(n,3,0,n.context.$implicit.name)}))}function Ql(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","city-selector border-top"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Jl)),t.ub(2,278528,null,0,f.k,[t.P,t.M,t.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.context.ngIf)}),null)}function Ul(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,2,null,Ql)),t.ub(2,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),t.Jb(131072,f.b,[t.i]),(l()(),t.kb(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,t.Qb(n,2,0,t.Hb(n,3).transform(u.npcs$)))}),null)}function Sl(l){return t.Rb(0,[t.Jb(0,G,[]),t.Nb(671088640,1,{scrollDiv:0}),(l()(),t.kb(16777216,null,null,1,null,Nl)),t.ub(3,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Ul)),t.ub(5,16384,null,0,f.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,3,0,u.place),l(n,5,0,u.showNpcs&&u.atBottom&&(!u.selectedNpc||u.visitBtn))}),null)}var Al=t.rb("app-read-place",zl,(function(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"app-read-place",[],null,null,null,Sl,Ol)),t.ub(1,245760,null,0,zl,[x.i,t.i,q.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),Vl=u("yWMr"),Kl=u("t68o"),ql=u("zbXB"),Zl=u("NcP4"),Wl=u("xYTU"),Gl=u("POq0"),Xl=u("DkaU"),Yl=u("Mc5n"),ln=u("QQfA"),nn=u("/Co4"),un=u("Xd0L"),tn=u("qJ5m"),en=u("s6ns"),cn=u("821u"),an=u("gavF"),on=u("JjoW"),sn=u("Mz6y"),rn=u("OIZN"),bn=u("7kcP");class dn{}var fn=u("qJ50"),pn=u("zQui"),hn=u("zMNK"),mn=u("KPQW"),vn=u("lwm9"),gn=u("Fwaw"),In=u("mkRZ"),kn=u("igqZ"),xn=u("r0V8"),yn=u("kNGD"),Fn=u("Gi4r"),Pn=u("02hT"),Hn=u("5Bek"),Mn=u("c9fC"),Cn=u("FVPZ"),wn=u("oapL"),Rn=u("HsOI"),zn=u("ZwOa"),On=u("Q+lL"),$n=u("8P0U"),Ln=u("W5yJ"),En=u("elxJ"),jn=u("lT8R"),Tn=u("pBi1"),Bn=u("dFDH"),Nn=u("8rEH"),Dn=u("rWV4"),_n=u("BzsH"),Jn=u("AaDx"),Qn=u("5dmV"),Un=u("Qzl2"),Sn=u("PCNd"),An=u("dvZr");u.d(n,"ReadersModuleNgFactory",(function(){return Vn}));var Vn=t.sb(i,[],(function(l){return t.Eb([t.Fb(512,t.k,t.db,[[8,[e.a,w,A,rl,Cl,Al,Vl.a,Kl.a,ql.b,ql.a,Zl.a,Wl.a,Wl.b,R.b,R.a]],[3,t.k],t.x]),t.Fb(4608,f.n,f.m,[t.u,[2,f.z]]),t.Fb(4608,Gl.b,Gl.b,[]),t.Fb(135680,b.g,b.g,[t.z,d.a]),t.Fb(4608,Xl.e,Xl.e,[t.M]),t.Fb(4608,Yl.a,Yl.a,[f.d,t.z,s.e,Yl.c]),t.Fb(4608,ln.a,ln.a,[ln.g,ln.c,t.k,ln.f,ln.d,t.r,t.z,f.d,o.b,[2,f.h]]),t.Fb(5120,ln.h,ln.i,[ln.a]),t.Fb(5120,nn.a,nn.b,[ln.a]),t.Fb(4608,un.d,un.d,[]),t.Fb(5120,tn.b,tn.a,[[3,tn.b]]),t.Fb(5120,en.b,en.c,[ln.a]),t.Fb(135680,en.d,en.d,[ln.a,t.r,[2,f.h],[2,en.a],en.b,[3,en.d],ln.c]),t.Fb(4608,cn.h,cn.h,[]),t.Fb(5120,cn.a,cn.b,[ln.a]),t.Fb(5120,an.c,an.j,[ln.a]),t.Fb(4608,un.c,un.t,[[2,un.h],d.a]),t.Fb(5120,on.a,on.b,[ln.a]),t.Fb(5120,sn.a,sn.b,[ln.a]),t.Fb(4608,O.e,un.e,[[2,un.i],[2,un.l]]),t.Fb(5120,rn.b,rn.a,[[3,rn.b]]),t.Fb(5120,bn.b,bn.a,[[3,bn.b]]),t.Fb(4608,$.u,$.u,[]),t.Fb(4608,$.f,$.f,[]),t.Fb(1073742336,f.c,f.c,[]),t.Fb(1073742336,p.m,p.m,[[2,p.r],[2,p.k]]),t.Fb(1073742336,dn,dn,[]),t.Fb(1073742336,d.b,d.b,[]),t.Fb(1073742336,Gl.c,Gl.c,[]),t.Fb(1073742336,b.a,b.a,[]),t.Fb(1073742336,o.a,o.a,[]),t.Fb(1073742336,fn.e,fn.e,[]),t.Fb(1073742336,pn.o,pn.o,[]),t.Fb(1073742336,Xl.c,Xl.c,[]),t.Fb(1073742336,Yl.b,Yl.b,[]),t.Fb(1073742336,un.l,un.l,[[2,un.f],[2,O.f]]),t.Fb(1073742336,un.s,un.s,[]),t.Fb(1073742336,un.q,un.q,[]),t.Fb(1073742336,un.o,un.o,[]),t.Fb(1073742336,hn.g,hn.g,[]),t.Fb(1073742336,s.c,s.c,[]),t.Fb(1073742336,ln.e,ln.e,[]),t.Fb(1073742336,nn.c,nn.c,[]),t.Fb(1073742336,mn.a,mn.a,[]),t.Fb(1073742336,vn.c,vn.c,[]),t.Fb(1073742336,gn.c,gn.c,[]),t.Fb(1073742336,In.a,In.a,[]),t.Fb(1073742336,kn.a,kn.a,[]),t.Fb(1073742336,xn.b,xn.b,[]),t.Fb(1073742336,xn.a,xn.a,[]),t.Fb(1073742336,yn.b,yn.b,[]),t.Fb(1073742336,Fn.a,Fn.a,[]),t.Fb(1073742336,tn.c,tn.c,[]),t.Fb(1073742336,en.g,en.g,[]),t.Fb(1073742336,cn.i,cn.i,[]),t.Fb(1073742336,Pn.a,Pn.a,[]),t.Fb(1073742336,Hn.c,Hn.c,[]),t.Fb(1073742336,Mn.a,Mn.a,[]),t.Fb(1073742336,un.m,un.m,[]),t.Fb(1073742336,Cn.a,Cn.a,[]),t.Fb(1073742336,wn.b,wn.b,[]),t.Fb(1073742336,Rn.a,Rn.a,[]),t.Fb(1073742336,zn.a,zn.a,[]),t.Fb(1073742336,On.a,On.a,[]),t.Fb(1073742336,an.i,an.i,[]),t.Fb(1073742336,an.f,an.f,[]),t.Fb(1073742336,un.u,un.u,[]),t.Fb(1073742336,un.n,un.n,[]),t.Fb(1073742336,on.c,on.c,[]),t.Fb(1073742336,sn.c,sn.c,[]),t.Fb(1073742336,rn.c,rn.c,[]),t.Fb(1073742336,$n.a,$n.a,[]),t.Fb(1073742336,Ln.a,Ln.a,[]),t.Fb(1073742336,En.a,En.a,[]),t.Fb(1073742336,a.h,a.h,[]),t.Fb(1073742336,jn.a,jn.a,[]),t.Fb(1073742336,Tn.a,Tn.a,[]),t.Fb(1073742336,Bn.d,Bn.d,[]),t.Fb(1073742336,bn.c,bn.c,[]),t.Fb(1073742336,Nn.a,Nn.a,[]),t.Fb(1073742336,Dn.a,Dn.a,[]),t.Fb(1073742336,_n.a,_n.a,[]),t.Fb(1073742336,Jn.a,Jn.a,[]),t.Fb(1073742336,Qn.a,Qn.a,[]),t.Fb(1073742336,z.j,z.j,[]),t.Fb(1073742336,$.t,$.t,[]),t.Fb(1073742336,$.i,$.i,[]),t.Fb(1073742336,$.q,$.q,[]),t.Fb(1073742336,Un.b,Un.b,[]),t.Fb(1073742336,Sn.a,Sn.a,[]),t.Fb(1073742336,i,i,[]),t.Fb(1024,p.i,(function(){return[[{path:"",component:H,children:[{path:"",component:B},{path:"select",component:Y},{path:"city",component:dl},{path:"place",component:zl}]}]]}),[]),t.Fb(256,yn.a,{separatorKeyCodes:[An.f]},[]),t.Fb(256,un.g,un.j,[])])}))}}]);